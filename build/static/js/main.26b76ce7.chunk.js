(this.webpackJsonpmultiplayerspil=this.webpackJsonpmultiplayerspil||[]).push([[0],{107:function(e,t,a){e.exports=a(151)},112:function(e,t,a){},144:function(e,t){},147:function(e,t,a){},149:function(e,t,a){},150:function(e,t,a){},151:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(9),o=a.n(r),l=a(12),s=a(187),i=a(21),m=Object(i.a)(),u=a(188),d=(a(112),function(){var e=Object(s.e)();return c.a.createElement("div",{className:"introContainer"},c.a.createElement("h1",null,"Velkommen til Skrive",c.a.createElement("span",null,".games")),c.a.createElement("div",{className:"knapContainer"},c.a.createElement(u.a,{size:"large",variant:"outlined",color:"secondary",onClick:function(){return e.push("/game/create")}},"Opret nyt spil."),c.a.createElement(u.a,{size:"large",variant:"outlined",color:"secondary",onClick:function(){return e.push("/game/join")}},"Join spil.")))}),b=a(98),y=a.n(b)()("http://localhost:3010"),k=a(202),p=a(31),v=a.n(p),E=a(194),g=a(192),_=(a(147),Object(g.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},extendedIcon:{marginRight:e.spacing(1)}}}))),f=function(e){var t=_(),a=Object(n.useState)(""),r=Object(l.a)(a,2),o=r[0],s=r[1],i=function(e){e.preventDefault(),y.emit("create-game",o)};return c.a.createElement("div",{className:"beholder"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-sm"}),c.a.createElement("div",{className:"col-sm8"},c.a.createElement("h1",{className:"text-center ba"},"Opret spil"),c.a.createElement("form",{className:"bas",autoComplete:"off",onSubmit:i},c.a.createElement("div",{className:"form-group"},c.a.createElement(k.a,{color:"secondary",id:"outlined-secondary",name:"navn",value:o,label:"Dit navn",onChange:function(e){s(e.target.value)},variant:"outlined"})),c.a.createElement(E.a,{onClick:i,variant:"extended",color:"secondary","aria-label":"add",className:t.margin},c.a.createElement(v.a,{className:t.extendedIcon}),"Spil"))),c.a.createElement("div",{className:"col-sm"})))},h=a(51),N=a(65),S=(a(149),Object(g.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},extendedIcon:{marginRight:e.spacing(1)}}}))),O=function(){var e=Object(n.useState)({gameID:"",nickName:""}),t=Object(l.a)(e,2),a=t[0],r=t[1],o=function(e){r(Object(N.a)(Object(N.a)({},a),{},Object(h.a)({},e.target.name,e.target.value)))},s=S();return c.a.createElement("div",{className:"beholder"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-sm"}),c.a.createElement("div",{className:"col-sm8"},c.a.createElement("h1",{className:"text-center"},"Join Game"),c.a.createElement("form",{autoComplete:"off"},c.a.createElement("div",{className:"form-group"},c.a.createElement(k.a,{color:"secondary",id:"outlined-secondary",name:"gameID",value:a.gameID,label:"Indtast GameID",onChange:o,variant:"outlined"}),c.a.createElement(k.a,{color:"secondary",id:"outlined-secondary",name:"nickName",value:a.nickName,label:"Indtast navn",onChange:o,variant:"outlined"})),c.a.createElement(E.a,{onClick:function(e){console.log(a),e.preventDefault(),y.emit("join-game",a)},variant:"extended",color:"secondary","aria-label":"add",className:s.margin},c.a.createElement(v.a,{className:s.extendedIcon}),"Spil"))),c.a.createElement("div",{className:"col-sm"})))},j=function(e){var t=Object(n.useState)({countDown:"",msg:""}),a=Object(l.a)(t,2),r=a[0],o=a[1];Object(n.useEffect)((function(){y.on("timer",(function(e){o(e)})),y.on("done",(function(){y.removeListener("timer")}))}),[]);var s=r.countDown,i=r.msg;return c.a.createElement("div",{className:"countdown"},c.a.createElement("h1",null,s),c.a.createElement("h3",null,i))},w=Object(g.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},extendedIcon:{marginRight:e.spacing(1)}}})),L=function(e){var t=e.player,a=e.gameID,r=w(),o=Object(n.useState)(!0),s=Object(l.a)(o,2),i=s[0],m=s[1];return t.isPartyLeader&&i?c.a.createElement(E.a,{onClick:function(e){y.emit("timer",{playerID:t._id,gameID:a}),m(!1)},variant:"extended",color:"secondary","aria-label":"add",className:r.margin},c.a.createElement(v.a,{className:r.extendedIcon}),"START"):null},x=function(e){var t=e.words,a=e.player;return c.a.createElement("div",{className:"wordse"},function(e,t){var a=e.slice(0,t.currentWordIndex);return a=a.join(" "),c.a.createElement("span",{className:"wuriaa"},a)}(t,a),function(e,t){return c.a.createElement("span",{className:"wuria"},e[t.currentWordIndex]," ")}(t,a),function(e,t){console.log(e);var a=e.slice(t.currentWordIndex+1,e.length);return a=a.join(" "),c.a.createElement("span",{className:"wuraa"},a)}(t,a))},I=(a(150),function(e){var t=e.player,a=e.gameID,r=Object(n.useState)(!1),o=Object(l.a)(r,2),s=o[0],i=o[1],m=Object(n.useRef)(null);return c.a.createElement("div",{className:"row my-3 text-center game"},c.a.createElement("div",{className:"col-sm"}),c.a.createElement("div",{className:"col-sm-8"},c.a.createElement("div",{className:"input-group mb-3"},c.a.createElement("input",{type:"text",ref:m,value:a,readOnly:!0,className:"form-control"}),c.a.createElement("div",{className:"input-group-append"},c.a.createElement("button",{className:"btn btn-outline-secondary",onClick:function(e){m.current.select(),document.execCommand("copy"),i(!0)},type:"button"},"Kopier linket"))),c.a.createElement(L,{player:t,gameID:a}),s?c.a.createElement("div",{className:"alert alert-success",role:"alert"},"Kopieret"):null),c.a.createElement("div",{className:"col-sm"}))}),C=function(e){var t=e.isOpen,a=e.isOver,r=e.gameID,o=e.player,s=Object(n.useState)(""),i=Object(l.a)(s,2),m=i[0],u=i[1],d=Object(n.useRef)(null),b=Object(n.useState)(!1),k=Object(l.a)(b,2),p=k[0];k[1];Object(n.useEffect)((function(){t||d.current.focus()}),[t]);var v=function(e){var t=e.target.value,a=t.charAt(t.length-1);u(e.target.value)," "===a?(y.emit("userInput",{userInput:m,gameID:r}),u("")):u(e.target.value)},E=function(e){switch(e.code){case"AltRight":setTimeout((function(){document.querySelector(".AltRight").classList.toggle("active")}),100);break;case"AltLeft":setTimeout((function(){document.querySelector(".AltLeft").classList.toggle("active")}),100);break;case"ControlLeft":setTimeout((function(){document.querySelector(".CtrlLeft").classList.toggle("active")}),100);break;case"ControlRight":setTimeout((function(){document.querySelector(".CtrlRight").classList.toggle("active")}),100);break;case"*":setTimeout((function(){document.querySelector(".*").classList.toggle("active")}),100);break;case"Backspace":document.querySelector(".backspace").classList.toggle("active"),setTimeout((function(){document.querySelector(".backspace").classList.toggle("active")}),100);break;case"Quote":document.querySelector(".\xf8").classList.toggle("active"),setTimeout((function(){document.querySelector(".\xf8").classList.toggle("active")}),100);break;case"Semicolon":document.querySelector(".\xe6").classList.toggle("active"),setTimeout((function(){document.querySelector(".\xe6").classList.toggle("active")}),100);break;case"BracketLeft":document.querySelector(".\xe5").classList.toggle("active"),setTimeout((function(){document.querySelector(".\xe5").classList.toggle("active")}),100);break;case"Period":document.querySelector(".period").classList.toggle("active"),setTimeout((function(){document.querySelector(".period").classList.toggle("active")}),100);break;case"Comma":document.querySelector(".comma").classList.toggle("active"),setTimeout((function(){document.querySelector(".comma").classList.toggle("active")}),100);break;case"Minus":document.querySelector(".?").classList.toggle("active"),setTimeout((function(){document.querySelector(".?").classList.toggle("active")}),100);break;case"Space":document.querySelector(".space").classList.toggle("active"),setTimeout((function(){document.querySelector(".space").classList.toggle("active")}),200);break;case"CapsLock":document.querySelector(".capslock").classList.toggle("keyboard__key--active");break;case"Enter":document.querySelector(".enter").classList.toggle("active"),setTimeout((function(){document.querySelector(".enter").classList.toggle("active")}),200);break;default:if(console.log(e.code),null==e.code)return;var t=e.code.substring(e.code.length-1,e.code.length).toLowerCase();document.querySelector("."+t).classList.toggle("active"),setTimeout((function(){document.querySelector("."+t).classList.toggle("active")}),500)}};Object(n.useEffect)((function(){window.addEventListener("keydown",E,v)}),[]);var g=function(e){d.current.focus(),N(!0)},_=Object(n.useState)(!1),f=Object(l.a)(_,2),h=f[0],N=f[1];return c.a.createElement("div",null,c.a.createElement("input",{type:"hidden",className:"input",onClick:g,onChange:v,readOnly:t||a,value:m,ref:d}),c.a.createElement("div",{onClick:g,className:h?"keyboard keyboard--hidden":"keyboard--false",style:{cursor:"pointer"}},c.a.createElement("div",{className:"keyboard__keys"},c.a.createElement("button",{className:"keyboard__key 1 "+(p?"active":"hidden")},"1"),c.a.createElement("button",{type:"button",className:"keyboard__key 2 "+(p?"active":"hidden")},"2"),c.a.createElement("button",{type:"button",className:"keyboard__key 3 "+(p?"active":"hidden")},"3"),c.a.createElement("button",{type:"button",className:"keyboard__key 4 "+(p?"active":"hidden")},"4"),c.a.createElement("button",{type:"button",className:"keyboard__key 5 "+(p?"active":"hidden")},"5"),c.a.createElement("button",{type:"button",className:"keyboard__key 6 "+(p?"active":"hidden")},"6"),c.a.createElement("button",{type:"button",className:"keyboard__key 7 "+(p?"active":"hidden")},"7"),c.a.createElement("button",{type:"button",className:"keyboard__key 8 "+(p?"active":"hidden")},"8"),c.a.createElement("button",{type:"button",className:"keyboard__key 9 "+(p?"active":"hidden")},"9"),c.a.createElement("button",{type:"button",className:"keyboard__key 0 "+(p?"active":"hidden")},"0"),c.a.createElement("button",{type:"button",className:"keyboard__key ? "+(p?"active":"hidden")},"?"),c.a.createElement("button",{type:"button",className:"keyboard__key `` "+(p?"active":"hidden")},"``"),c.a.createElement("button",{type:"button",className:"keyboard__key backspace keyboard__key--wide "+(p?"active":"hidden")},c.a.createElement("i",{className:"material-icons"},"backspace")),c.a.createElement("br",null),c.a.createElement("button",{type:"button",className:"keyboard__key q "+(p?"active":"hidden")},"q"),c.a.createElement("button",{type:"button",className:"keyboard__key w "+(p?"active":"hidden")},"w"),c.a.createElement("button",{type:"button",className:"keyboard__key e "+(p?"active":"hidden")},"e"),c.a.createElement("button",{type:"button",className:"keyboard__key r "+(p?"active":"hidden")},"r"),c.a.createElement("button",{type:"button",className:"keyboard__key t "+(p?"active":"hidden")},"t"),c.a.createElement("button",{type:"button",className:"keyboard__key y "+(p?"active":"hidden")},"y"),c.a.createElement("button",{type:"button",className:"keyboard__key u "+(p?"active":"hidden")},"u"),c.a.createElement("button",{type:"button",className:"keyboard__key i "+(p?"active":"hidden")},"i"),c.a.createElement("button",{type:"button",className:"keyboard__key o "+(p?"active":"hidden")},"o"),c.a.createElement("button",{type:"button",className:"keyboard__key p "+(p?"active":"hidden")},"p"),c.a.createElement("button",{type:"button",className:"keyboard__key \xe5 "+(p?"active":"hidden")},"\xe5"),c.a.createElement("button",{type:"button",className:"keyboard__key ^ "+(p?"active":"hidden")},"^"),c.a.createElement("button",{type:"button",className:"keyboard__key enter keyboard__key--wide "+(p?"active":"hidden")},c.a.createElement("i",{className:"material-icons"},"keyboard_return")),c.a.createElement("br",null),c.a.createElement("button",{type:"button",className:"keyboard__key capslock keyboard__key--wide "+(p?"active":"hidden")},c.a.createElement("i",{className:"material-icons"},"keyboard_capslock")),c.a.createElement("button",{type:"button",className:"keyboard__key a "+(p?"active":"hidden")},"a"),c.a.createElement("button",{type:"button",className:"keyboard__key s "+(p?"active":"hidden")},"s"),c.a.createElement("button",{type:"button",className:"keyboard__key d "+(p?"active":"hidden")},"d"),c.a.createElement("button",{type:"button",className:"keyboard__key f "+(p?"active":"hidden")},"f"),c.a.createElement("button",{type:"button",className:"keyboard__key g "+(p?"active":"hidden")},"g"),c.a.createElement("button",{type:"button",className:"keyboard__key h "+(p?"active":"hidden")},"h"),c.a.createElement("button",{type:"button",className:"keyboard__key j "+(p?"active":"hidden")},"j"),c.a.createElement("button",{type:"button",className:"keyboard__key k "+(p?"active":"hidden")},"k"),c.a.createElement("button",{type:"button",className:"keyboard__key l "+(p?"active":"hidden")},"l"),c.a.createElement("button",{type:"button",className:"keyboard__key \xe6 "+(p?"active":"hidden")},"\xe6"),c.a.createElement("button",{type:"button",className:"keyboard__key \xf8 "+(p?"active":"hidden")},"\xf8"),c.a.createElement("button",{type:"button",className:"keyboard__key * "+(p?"active":"hidden")},"*"),c.a.createElement("br",null),c.a.createElement("button",{type:"button",className:"keyboard__key shift keyboard__key--wide "+(p?"active":"hidden")},"Shift"),c.a.createElement("button",{type:"button",className:"keyboard__key z "+(p?"active":"hidden")},"z"),c.a.createElement("button",{type:"button",className:"keyboard__key x "+(p?"active":"hidden")},"x"),c.a.createElement("button",{type:"button",className:"keyboard__key c "+(p?"active":"hidden")},"c"),c.a.createElement("button",{type:"button",className:"keyboard__key v "+(p?"active":"hidden")},"v"),c.a.createElement("button",{type:"button",className:"keyboard__key b "+(p?"active":"hidden")},"b"),c.a.createElement("button",{type:"button",className:"keyboard__key n "+(p?"active":"hidden")},"n"),c.a.createElement("button",{type:"button",className:"keyboard__key m "+(p?"active":"hidden")},"m"),c.a.createElement("button",{type:"button",className:"keyboard__key comma "+(p?"active":"hidden")},"."),c.a.createElement("button",{type:"button",className:"keyboard__key period "+(p?"active":"hidden")},"."),c.a.createElement("button",{type:"button",className:"keyboard__key - "+(p?"active":"hidden")},"-"),c.a.createElement("br",null),c.a.createElement("button",{type:"button",className:"keyboard__key CtrlLeft keyboard__key--wide "+(p?"active":"hidden")},"Ctrl"),c.a.createElement("button",{type:"button",className:"keyboard__key AltLeft keyboard__key--wide "+(p?"active":"hidden")},"Alt"),c.a.createElement("button",{type:"button",className:"keyboard__key space keyboard__key--extra-wide "+(p?"active":"hidden")},c.a.createElement("i",{className:"material-icons"},"space_bar")),c.a.createElement("button",{type:"button",className:"keyboard__key CtrlRight keyboard__key--wide "+(p?"active":"hidden")},"Ctrl"),c.a.createElement("button",{type:"button",className:"keyboard__key AltRight keyboard__key--wide Space"},"Alt"),c.a.createElement(I,{player:o,gameID:r}))))},q=function(e,t){return 0!==e.currentWordIndex?(e.currentWordIndex/t*100).toFixed(2)+"%":0},D=function(e){var t=e.player,a=e.players,n=e.wordsLength,r=q(t,n);return c.a.createElement("div",{className:"fremskridt"},c.a.createElement(c.a.Fragment,null,c.a.createElement("h5",{className:"text-left"},t.nickName),c.a.createElement("div",{className:"progress my-1",key:t._id},c.a.createElement("div",{className:"progress-bar",role:"progressbar",style:{width:r}},r))),a.map((function(e){var a=q(e,n);return e._id!==t._id?c.a.createElement(c.a.Fragment,null,c.a.createElement("h5",{className:"text-left"},e.nickName),c.a.createElement("div",{className:"progress my-1",key:e._id},c.a.createElement("div",{className:"progress-bar",role:"progressbar",style:{width:a}},a))):null})))},T=function(e){var t=function(e){return e.filter((function(e){return-1!==e.WPM})).sort((function(e,t){return e.WPM>t.WPM?-1:t.WPM>e.WPM?1:0}))}(e.players);return 0===t.length?null:c.a.createElement("table",{className:"table table-striped my-3"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{scope:"col"},"#"),c.a.createElement("th",{scope:"col"},"Spiller"),c.a.createElement("th",{scope:"col"},"WPM"))),c.a.createElement("tbody",null,t.map((function(e,t){return c.a.createElement("tr",null,c.a.createElement("th",{scope:"row"},t+1),c.a.createElement("td",null,e.nickName),c.a.createElement("td",null,e.WPM))}))))},R=function(e){var t=e.gameState,a=t._id,n=t.players,r=t.words,o=t.isOpen,l=t.isOver,i=function(e){return e.find((function(e){return e.socketID===y.id}))}(n);return""===a?c.a.createElement(s.a,{to:"/"}):c.a.createElement("div",{className:"text-center"},c.a.createElement(x,{words:r,player:i}),c.a.createElement(D,{players:n,player:i,wordsLength:r.length}),c.a.createElement("div",{className:"flex-containerr"},c.a.createElement(C,{Open:o,isOver:l,player:i,gameID:a}),c.a.createElement("div",{className:"flexflex"},c.a.createElement(j,null),c.a.createElement(T,{players:n}))))},W=(a(204),a(195),a(196),a(197),a(193),a(52),a(198),a(199),a(200),a(201),a(66),a(67),a(99)),A=Object(W.a)({palette:{type:"dark"}});Object(g.a)((function(e){return{root:{display:"flex"},appBar:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},toolbar:e.mixins.toolbar,content:{flexGrow:1,backgroundColor:A.palette.background.default,padding:e.spacing(3)}}}));var P=function(){var e=Object(n.useState)({_id:"",isOpen:!1,players:[],words:[]}),t=Object(l.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){return y.on("updateGame",(function(e){r(e)})),function(){y.removeAllListeners()}}),[]),Object(n.useEffect)((function(){""!==a._id&&m.push("/game/".concat(a._id))}),[a._id]),c.a.createElement(s.c,{history:m},c.a.createElement(s.d,null,c.a.createElement(s.b,{exact:!0,path:"/",component:d}),c.a.createElement(s.b,{path:"/game/create",component:f}),c.a.createElement(s.b,{path:"/game/join",component:O}),c.a.createElement(s.b,{path:"/game/:gameID",render:function(e){return c.a.createElement(R,Object.assign({},e,{gameState:a}))}})))};o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(P,{class:"container"})),document.getElementById("root"))}},[[107,1,2]]]);
//# sourceMappingURL=main.26b76ce7.chunk.js.map